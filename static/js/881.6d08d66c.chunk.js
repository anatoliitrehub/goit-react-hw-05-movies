"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[881],{881:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(439),s=n(791),u=n(87),i=n(689),a=n(321),c="Movies_section__bjPDA",o=n(184),l=function(){var e=(0,i.TH)(),t=(0,s.useState)([]),n=(0,r.Z)(t,2),l=n[0],h=n[1],f=(0,s.useState)(""),d=(0,r.Z)(f,2),p=d[0],v=d[1],g=(0,u.lr)(""),m=(0,r.Z)(g,2),b=m[0],x=m[1];(0,s.useEffect)((function(){(0,a.X)("/search/movie",b.get("query")).then((function(e){h(e)}))}),[b]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("section",{className:c,children:[(0,o.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),x({query:p.trim()})}(e)},children:[(0,o.jsx)("input",{type:"text",value:p,onChange:function(e){return v(e.target.value)}}),(0,o.jsx)("button",{type:"submit",children:"Search"})]}),l.results&&0!==l.results.length&&(0,o.jsx)("h1",{children:"Search results:"}),l.results&&0===l.results.length&&b.get("query")&&(0,o.jsx)("h1",{children:"There are no results"}),(0,o.jsx)("ul",{children:l.results&&l.results.map((function(t){var n="/movies/"+t.id;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("li",{children:(0,o.jsx)(u.OL,{to:n,state:e,children:t.title})},t.id)})}))})]})})}},321:function(e,t,n){n.d(t,{X:function(){return l}});var r=n(861),s=n(757),u=n.n(s),i=n(243),a=n(7),c=n.n(a);i.Z.defaults.baseURL="https://api.themoviedb.org/3";var o="6dacb83bbdfc4398c50bae5501054b2f",l=function(){var e=(0,r.Z)(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.next=3,i.Z.get(t,{params:{api_key:o,query:n}}).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();l.propTypes={appendPath:c().string.isRequired,query:c().string}}}]);
//# sourceMappingURL=881.6d08d66c.chunk.js.map